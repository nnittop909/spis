<%= simple_form_for @sponsorship, html: { autocomplete: "off"}, url: @sponsorship.persisted? ? resolution_sponsor_path(resolution_id: @resolution.id, id: @sponsorship.id) : resolution_sponsors_path(resolution_id: @resolution.id), method: @sponsorship.persisted? ? :patch : :post do |f| %>
  <%= f.error_notification %>

  <%= f.input :sponsor_id, label: 'Sponsor', collection: Committee.all.map{ |a| [a.name, a.id]}, input_html: {id: "sponsorSelect"} %>
  <%= f.input :role, label: "Sponsor Type", collection: Sponsorship.roles.keys.to_a.map{ |a| [a.titleize, a]}, selected: "regular" %>
  <%= f.input :sponsor_type, input_html: { value: "Committee"}, as: :hidden %>

  <%= f.submit "Save", class: "btn btn-outline-success float-right", data: { disable_with: "Processing..." } %>
<% end %>

<script type="text/javascript">
  $( "#sponsorSelect" ).select2({
    theme: "bootstrap",
    width: '100%'
  });
</script>