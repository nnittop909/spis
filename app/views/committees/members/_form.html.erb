<%= simple_form_for @member, html: { autocomplete: "off"}, url: @member.persisted? ? committee_member_path(id: @member.id, committee_id: @committee.id) : committee_members_path(committee_id: @committee.id) do |f| %>
  <%= f.error_notification %>

  <%= f.input :member_id, collection: Member.all.order(:first_name).map{|m| [m.name, m.id] }, input_html: {id: "committee-member-select"} %>
  <%= f.input :committee_membership_id, label: 'Term', collection: committee.committee_memberships.map{|c| [c.term, c.id]} %>
  <%= f.input :committee_id, input_html: {value: committee.id}, as: :hidden %>
  <%= f.input :role, collection: CommitteeMember.roles.keys.to_a.map{|a| [a.titleize, a]} %>
  
  <%= f.submit "Save", class: "btn btn-outline-success float-right", data: { disable_with: "Processing..." } %>
<% end %>